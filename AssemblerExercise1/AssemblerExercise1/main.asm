;
; AssemblerExercise1.asm
;
; Created: 10-02-2016 13:34:07
; Author : jimmi
;


;EXERCISE 1.1

/*LDI R16, 0xFF
OUT DDRB, R16

LOOP:
	LDI R17, 0x0C
	COM R17
	OUT PORTB, R17
	RJMP LOOP*/

;EXERCISE 1.2

/*LDI R16, 0xFF
OUT DDRB, R16

LOOP:
	LDI R17, 0x0C
	STS 0x200, R17
	COM R17
	OUT PORTB, R17
	CALL DELAY
	LDI R18, 0x02
	STS 0x201, R18
	COM R18
	OUT PORTB, R18
	CALL DELAY
	LDS R19, 0x200
	LDS R18, 0x201
	ADD R19, R18
	COM R19
	OUT PORTB, R19
	CALL DELAY
	RJMP LOOP

	 ; Set up delay subroutine
 .def DEL_OUTER = R22
 .def DEL_INNER_1 = R23
 .def DEL_INNER_2 = R24
 .equ DEL_OUTER_VAL = 0xA0
 .equ DEL_INNER_1_VAL = 0xA0
 .equ DEL_INNER_2_VAL = 0xA0

DELAY:
	 LDI DEL_OUTER, DEL_OUTER_VAL
	 OUTER: 
		LDI DEL_INNER_1, DEL_INNER_1_VAL
		INNER_1: 
			LDI DEL_INNER_2, DEL_INNER_2_VAL
			INNER_2: 
				DEC DEL_INNER_2 
				BRNE INNER_2 
				DEC DEL_INNER_1 
				BRNE INNER_1 
				DEC DEL_OUTER
				BRNE OUTER 
				RET */

;EXERCISE 2.1
/*LDI R16, 0xFF
OUT DDRB, R16

LOOP:
	LDI R17, 0x0C
	STS 0x200, R17
	COM R17
	OUT PORTB, R17
	CALL DELAY
	LDI R18, 0x02
	STS 0x201, R18
	COM R18
	OUT PORTB, R18
	CALL DELAY
	LDS R19, 0x200
	LDS R18, 0x201
	ADD R19, R18
	LDI R17, 0x0C
	STS 0x202, R17
	COM R17
	OUT PORTB, R17
	CALL DELAY
	LDS R18, 0x202
	ADD R19, R18
	COM R19
	OUT PORTB, R19
	CALL DELAY
	RJMP LOOP

	 ; Set up delay subroutine
 .def DEL_OUTER = R22
 .def DEL_INNER_1 = R23
 .def DEL_INNER_2 = R24
 .equ DEL_OUTER_VAL = 0xA0
 .equ DEL_INNER_1_VAL = 0xA0
 .equ DEL_INNER_2_VAL = 0xA0

DELAY:
	 LDI DEL_OUTER, DEL_OUTER_VAL
	 OUTER: 
		LDI DEL_INNER_1, DEL_INNER_1_VAL
		INNER_1: 
			LDI DEL_INNER_2, DEL_INNER_2_VAL
			INNER_2: 
				DEC DEL_INNER_2 
				BRNE INNER_2 
				DEC DEL_INNER_1 
				BRNE INNER_1 
				DEC DEL_OUTER
				BRNE OUTER 
				RET */

;EXERCISE 2.2

/*LDI R16, 0xFF
OUT DDRB, R16

LOOP:
	LDI R17, 0x0C
	STS 0x200, R17
	COM R17
	OUT PORTB, R17
	CALL DELAY
	LDI R18, 0x02
	STS 0x201, R18
	COM R18
	OUT PORTB, R18
	CALL DELAY
	LDS R19, 0x200
	LDS R18, 0x201
	SUB R19, R18
	LDI R17, 0x04
	STS 0x202, R17
	COM R17
	OUT PORTB, R17
	CALL DELAY
	LDS R18, 0x202
	SUB R19, R18
	COM R19
	OUT PORTB, R19
	CALL DELAY
	RJMP LOOP

	 ; Set up delay subroutine
 .def DEL_OUTER = R22
 .def DEL_INNER_1 = R23
 .def DEL_INNER_2 = R24
 .equ DEL_OUTER_VAL = 0xA0
 .equ DEL_INNER_1_VAL = 0xA0
 .equ DEL_INNER_2_VAL = 0xA0

DELAY:
	 LDI DEL_OUTER, DEL_OUTER_VAL
	 OUTER: 
		LDI DEL_INNER_1, DEL_INNER_1_VAL
		INNER_1: 
			LDI DEL_INNER_2, DEL_INNER_2_VAL
			INNER_2: 
				DEC DEL_INNER_2 
				BRNE INNER_2 
				DEC DEL_INNER_1 
				BRNE INNER_1 
				DEC DEL_OUTER
				BRNE OUTER 
				RET*/

;EXERCISE 2.3


;EXERCISE 3.1
/*MADE MY OWN DELAY AND USED IT IN THE PREVIOUS EXERCISES*/

;EXERCISE 3.2

/*LDI R16, 0xFF
OUT DDRB, R16
LDI R17, 0x00

LOOP:
	INC R17
	CALL DELAY
	RJMP LOOP

	 ; Set up delay subroutine
 .def DEL_OUTER = R22
 .def DEL_INNER_1 = R23
 .def DEL_INNER_2 = R24
 .equ DEL_OUTER_VAL = 0xA0
 .equ DEL_INNER_1_VAL = 0xA0
 .equ DEL_INNER_2_VAL = 0xA0

DELAY:
	 LDI DEL_OUTER, DEL_OUTER_VAL
	 OUTER: 
		LDI DEL_INNER_1, DEL_INNER_1_VAL
		INNER_1: 
			LDI DEL_INNER_2, DEL_INNER_2_VAL
			INNER_2: 
				DEC DEL_INNER_2 
				BRNE INNER_2 
				DEC DEL_INNER_1 
				BRNE INNER_1 
				DEC DEL_OUTER
				BRNE OUTER 
				RET*/